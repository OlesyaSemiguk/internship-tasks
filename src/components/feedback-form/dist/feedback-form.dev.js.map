{"version":3,"sources":["feedback-form.js"],"names":["FeedbackForm","element","submitElement","getElement","root","addEventListener","onSubmit","data","alert","message","response","json","then","showMessage","console","error","currentForm","FormData","method","body","collectData","fetch","action","setOptions","event","preventDefault","currentTarget","sendForm","onSuccess","onError","Component"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;IAEMA,Y;;;;;AACJ,wBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,sFAAMA,OAAN;AACA,UAAKC,aAAL,GAAqB,MAAKC,UAAL,CAAgB,iBAAhB,CAArB;;AACA,UAAKC,IAAL,CAAUC,gBAAV,CAA2B,QAA3B,EAAqC,MAAKC,QAA1C;;AAHmB;AAIpB;;;;gCAEWC,I,EAAM;AAChBC,MAAAA,KAAK,CAACD,IAAI,CAACE,OAAN,CAAL;AACD;;;8BACSC,Q,EAAU;AAClB,aAAOA,QAAQ,CAACC,IAAT,GAAgBC,IAAhB,CAAqBC,WAArB,CAAP;AACD;;;4BACON,I,EAAM;AACZO,MAAAA,OAAO,CAACC,KAAR,CAAcR,IAAd;AACD;;;gCACWS,W,EAAa;AACvB,UAAMT,IAAI,GAAG,IAAIU,QAAJ,CAAaD,WAAb,CAAb;AACA,aAAOT,IAAP;AACD;;;+BACUS,W,EAAa;AACtB,aAAO;AACLE,QAAAA,MAAM,EAAE,MADH;AAELC,QAAAA,IAAI,EAAEC,WAAW,CAACJ,WAAD;AAFZ,OAAP;AAID;;;6BACQA,W,EAAa;AACpB,aAAOK,KAAK,CAACC,MAAD,EAASC,UAAU,CAACP,WAAD,CAAnB,CAAZ;AACD;;;6BACQQ,K,EAAO;AACdA,MAAAA,KAAK,CAACC,cAAN;AADc,UAENC,aAFM,GAEYF,KAFZ,CAENE,aAFM;AAGdC,MAAAA,QAAQ,CAACD,aAAD,CAAR,CACGd,IADH,CACQ,UAACF,QAAD;AAAA,eAAckB,SAAS,CAAClB,QAAD,EAAWgB,aAAX,CAAvB;AAAA,OADR,WAESG,OAFT;AAGD;;;;EAnCwBC,qB;;eAsCZ9B,Y","sourcesContent":["import Component from '../../app/js/base/component'\n\nclass FeedbackForm extends Component {\n  constructor(element) {\n    super(element)\n    this.submitElement = this.getElement('content__submit')\n    this.root.addEventListener('submit', this.onSubmit)\n  }\n\n  showMessage(data) {\n    alert(data.message)\n  }\n  onSuccess(response) {\n    return response.json().then(showMessage)\n  }\n  onError(data) {\n    console.error(data)\n  }\n  collectData(currentForm) {\n    const data = new FormData(currentForm)\n    return data\n  }\n  setOptions(currentForm) {\n    return {\n      method: 'post',\n      body: collectData(currentForm),\n    }\n  }\n  sendForm(currentForm) {\n    return fetch(action, setOptions(currentForm))\n  }\n  onSubmit(event) {\n    event.preventDefault()\n    const { currentTarget } = event\n    sendForm(currentTarget)\n      .then((response) => onSuccess(response, currentTarget))\n      .catch(onError)\n  }\n}\n\nexport default FeedbackForm\n"],"file":"feedback-form.dev.js"}