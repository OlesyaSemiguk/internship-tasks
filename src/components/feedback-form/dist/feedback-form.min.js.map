{"version":3,"sources":["feedback-form.js"],"names":["_component","_interopRequireDefault","require","FeedbackForm","element","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","submitElement","getElement","root","addEventListener","onSubmit","Component","data","alert","message","response","json","then","showMessage","console","error","currentForm","FormData","method","body","collectData","action","setOptions","event","preventDefault","currentTarget","sendForm","onSuccess","onError"],"mappings":"2FAAA,IAAAA,WAAAC,uBAAAC,QAAA,6/CAEMC,wBACJ,SAAAA,EAAYC,GAAS,IAAAC,EAAA,OAAAC,gBAAAC,KAAAJ,IACnBE,EAAAG,2BAAAD,KAAAE,gBAAAN,GAAAO,KAAAH,KAAMH,KACDO,cAAgBN,EAAKO,WAAW,mBACrCP,EAAKQ,KAAKC,iBAAiB,SAAUT,EAAKU,UAHvBV,qBADIW,WAAAA,8DAObC,GACVC,MAAMD,EAAKE,2CAEHC,GACR,OAAOA,EAASC,OAAOC,KAAKC,6CAEtBN,GACNO,QAAQC,MAAMR,uCAEJS,GAEV,OADa,IAAIC,SAASD,sCAGjBA,GACT,MAAO,CACLE,OAAQ,OACRC,KAAMC,YAAYJ,qCAGbA,GA1BLvB,OAAAA,MA2BW4B,OAAQC,WAAWN,qCAEzBO,GACPA,EAAMC,iBADQ,IAENC,EAAkBF,EAAlBE,cA9BVC,SAAAD,GAAqBb,KAAA,SAAAF,GAAA,OAAAiB,UAAAjB,EAAAe,KAArB,MAiCWG,2BA/BJ3B","file":"feedback-form.min.js","sourcesContent":["import Component from '../../app/js/base/component'\n\nclass FeedbackForm extends Component {\n  constructor(element) {\n    super(element)\n    this.submitElement = this.getElement('content__submit')\n    this.root.addEventListener('submit', this.onSubmit)\n  }\n\n  showMessage(data) {\n    alert(data.message)\n  }\n  onSuccess(response) {\n    return response.json().then(showMessage)\n  }\n  onError(data) {\n    console.error(data)\n  }\n  collectData(currentForm) {\n    const data = new FormData(currentForm)\n    return data\n  }\n  setOptions(currentForm) {\n    return {\n      method: 'post',\n      body: collectData(currentForm),\n    }\n  }\n  sendForm(currentForm) {\n    return fetch(action, setOptions(currentForm))\n  }\n  onSubmit(event) {\n    event.preventDefault()\n    const { currentTarget } = event\n    sendForm(currentTarget)\n      .then((response) => onSuccess(response, currentTarget))\n      .catch(onError)\n  }\n}\n\nexport default FeedbackForm\n"]}